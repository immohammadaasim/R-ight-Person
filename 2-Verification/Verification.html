<!-- ===================================================================== -->
<!-- ===>> BLOCK HTML 0: Documentation & Modular Verification Rules <<=== -->
<!-- ===================================================================== -->
<!-- 
    FILE NAME: 2-verification/Verification.html
    PROJECT: R-ight Person (Digital Identity System)
    ARCHITECTURE: Modular Architecture (Verification Module)
    
    MODULE ROLE:
    1. PATH SELECTION: User chooses between Telegram, iMail, or WhatsApp.
    2. ACCESS -R- KEY: Displays 6-digit input boxes for identity verification.
    3. DEVICE GUARD: Handles "Device Shift" requests for old users.

    DESIGN STANDARD:
    - iPadOS 18 (Spatial Glass Design).
    - Floating Selection Cards with Haptic Feedback.
    - Zero-Jerk Transition between Selection and Input screens.

    SECURITY PROTOCOL:
    - Only accessible if temporary session data exists.
    - Real-time sync with primary device for authorization.
-->
<!-- ===================================================================== -->
<!-- ===>> END OF BLOCK HTML 0 file : 2-verification/Verification.html <<=== -->
<!-- ===================================================================== -->



<!-- ===================================================================== -->
<!-- ===>> BLOCK HTML 1: Head & Verification System Links <<=== -->
<!-- ===================================================================== -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>R-ight Person | Verification Gateway</title>
    
    <!-- [ GLOBAL UI MODULES - CSS ] -->
    <link rel="stylesheet" href="../0-Theme/Theme.css?v=1.5">
    <link rel="stylesheet" href="../0.1-Notification/Notification.css?v=1.5">
    
    <!-- [ LOCAL PAGE STYLE ] -->
    <link rel="stylesheet" href="Verification.css?v=1.5">

    <!-- [ EXTERNAL LIBRARIES ] -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Spatial Entrance Rule: Content arrives from nothing */
        body { opacity: 0; transition: opacity 0.6s ease-in-out; }
        body.loaded { opacity: 1; }
    </style>
</head>
<!-- ===================================================================== -->
<!-- ===>> END OF BLOCK HTML 1 file : 2-verification/Verification.html <<=== -->
<!-- ===================================================================== -->


<!-- ===================================================================== -->
<!-- ===>> BLOCK HTML 2: Entry Structure & Modular Portals <<=== -->
<!-- ===================================================================== -->
<body class="spatial-verification">

    <!-- 1. Universal Notification Slot (Dynamic Island) -->
    <!-- Ye notch har page ke top-center par tairta rahega -->
    <div id="showIsland" class="dynamic-island-wrapper">
        <div class="dynamic-island-pill">
            <div id="island-icon" class="island-icon-box"></div>
            <p id="island-message" class="island-msg-text"></p>
        </div>
    </div>

    <!-- 2. Global Theme Switcher Slot -->
    <!-- Ye floating button user ki dark/light preference handle karega -->
    <div id="theme-manager-portal" class="theme-utility-bar">
        <button id="global-theme-toggle" class="haptic-touch">
            <i id="theme-icon" class="fas fa-moon"></i>
        </button>
    </div>

    <!-- 3. Main Verification Gateway -->
    <div id="app-container">
        <main class="spatial-glass-card">
            
            <!-- --- VIEW 1: PATH SELECTION (The Choice Portal) --- -->
            <div id="selection-view" class="gateway-view active">
                <header class="view-header">
                    <div class="brand-badge" style="font-size: 0.72rem; font-weight: 800; color: var(--blue-accent); letter-spacing: 2px; margin-bottom: 0.8rem; text-align: center; text-transform: uppercase;">Identity Verification</div>
                    <h1 class="view-title">Access -R- Key</h1>
                    <p class="view-subtitle">Select your preferred path for verification.</p>
                </header>

                <div class="selection-list">
                    <!-- Telegram Path (Primary Free Path) -->
                    <div class="selection-card haptic-touch" id="path-telegram">
                        <div class="path-icon telegram-bg">
                            <i class="fab fa-telegram-plane" style="font-size: 1.5rem;"></i>
                        </div>
                        <div class="path-info">
                            <span class="path-name">Telegram Bot</span>
                            <span class="path-meta">Instant & Free</span>
                        </div>
                        <span class="path-price">FREE</span>
                    </div>

                    <!-- iMail Path ($1.00 Fee) -->
                    <div class="selection-card haptic-touch disabled-path" id="path-email">
                        <div class="path-icon email-bg">
                            <i class="fas fa-envelope-open-text" style="font-size: 1.3rem;"></i>
                        </div>
                        <div class="path-info">
                            <span class="path-name">iMail (Official)</span>
                            <span class="path-meta" style="color: var(--s-text);">Coming Soon</span>
                        </div>
                        <span class="path-price">$1.00</span>
                    </div>

                    <!-- WhatsApp Path ($2.00 Fee) -->
                    <div class="selection-card haptic-touch disabled-path" id="path-whatsapp">
                        <div class="path-icon whatsapp-bg">
                            <i class="fab fa-whatsapp" style="font-size: 1.5rem;"></i>
                        </div>
                        <div class="path-info">
                            <span class="path-name">WhatsApp Premium</span>
                            <span class="path-meta" style="color: var(--s-text);">Coming Soon</span>
                        </div>
                        <span class="path-price">$2.00</span>
                    </div>
                </div>

                <button id="go-back-entry" class="ios-secondary-btn haptic-touch">Edit Mobile / Gmail</button>
            </div>

            <!-- --- VIEW 2: KEY INPUT (Passcode Verification) --- -->
            <div id="key-input-view" class="gateway-view" style="display:none;">
                <header class="view-header">
                    <h1 class="view-title">Verify Key</h1>
                    <p class="view-subtitle">Enter the 6-digit Access -R- Key sent to your <span id="target-identity" style="color: var(--blue-accent); font-weight: 700;">Telegram</span>.</p>
                </header>

                <div class="key-input-wrapper">
                    <input type="text" maxlength="1" class="key-box" inputmode="numeric">
                    <input type="text" maxlength="1" class="key-box" inputmode="numeric">
                    <input type="text" maxlength="1" class="key-box" inputmode="numeric">
                    <input type="text" maxlength="1" class="key-box" inputmode="numeric">
                    <input type="text" maxlength="1" class="key-box" inputmode="numeric">
                    <input type="text" maxlength="1" class="key-box" inputmode="numeric">
                </div>

                <div class="key-footer">
                    <span id="resend-timer">02:00</span>
                    <button id="resend-key-btn" class="ios-link-btn" disabled>Resend Code</button>
                </div>

                <button id="verify-key-btn" class="ios-primary-btn haptic-touch">
                    <span class="btn-text">Verify Identity</span>
                    <div class="btn-loader"></div>
                </button>

                <button id="back-to-selection" class="ios-secondary-btn haptic-touch" style="margin-top: 0.5rem; border: none;">Change Path</button>
            </div>

        </main>
    </div>
<!-- ===================================================================== -->
<!-- ===>> END OF BLOCK HTML 2 file : 2-verification/Verification.html <<=== -->
<!-- ===================================================================== -->


<!-- ===================================================================== -->
<!-- ===>> BLOCK HTML 3: Device Shift Overlay & High Alert Portal <<=== -->
<!-- ===================================================================== -->
<!-- 
    SECURITY RULES:
    - shift-guard-view: Triggered for OLD users on NEW hardware.
    - high-alert-screen: Nuclear block for suspicious/rejected devices.
-->

<!-- 1. Device Guard View: Authorization Timer Engine -->
<div id="shift-guard-view" class="gateway-view" style="display:none;">
    <div class="guard-content">
        
        <!-- Animated Security Icon (iPadOS 18 Pulse) -->
        <div class="guard-icon-container">
            <div class="guard-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <div class="guard-pulse"></div>
        </div>

        <h1 class="view-title">Authorization Required</h1>
        <p class="view-subtitle">We sent a request to your primary device. Please approve to continue.</p>

        <!-- Dynamic Circular Timer -->
        <div class="shift-timer-container">
            <svg class="timer-ring" width="120" height="120">
                <circle class="timer-ring-bg" cx="60" cy="60" r="54"></circle>
                <circle id="timer-progress-ring" class="timer-ring-active" cx="60" cy="60" r="54"></circle>
            </svg>
            <div id="shift-timer-text" class="timer-text">3:00</div>
        </div>

        <div class="guard-footer">
            <p class="warning-text">Don't have your old device? <a href="#" id="shift-via-email" class="haptic-touch">Verify via Email</a> after 3 minutes.</p>
        </div>

    </div>
</div>

<!-- 2. High Alert Block Screen (The Final Wall) -->
<div id="high-alert-screen" class="glass-overlay-dark" style="display:none;">
    <div class="alert-content">
        <!-- SF Symbol Vibe Icon -->
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
        <h1>Device Flagged</h1>
        <p id="block-reason">Unauthorized attempt detected. This device is permanently suspended.</p>
        <button class="ios-secondary-btn haptic-touch" style="color: #FFFFFF; border-color: rgba(255,255,255,0.3);" onclick="window.location.reload()">Contact Security</button>
    </div>
</div>
<!-- ===================================================================== -->
<!-- ===>> END OF BLOCK HTML 3 file : 2-verification/Verification.html <<=== -->
<!-- ===================================================================== -->


<!-- ===================================================================== -->
<!-- ===>> BLOCK HTML 4: Global Engine Links & System Activation <<=== -->
<!-- ===================================================================== -->
<!-- 
    MODULAR ARCHITECTURE NOTE:
    - Supabase SDK: Backend connectivity dependency.
    - Global Engines: Theme.js and Notification.js (Universal behavior).
    - Page Engine: Verification.js (Local logic).
-->

<!-- 1. External Dependencies -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- 2. Global Universal Modules -->
<script src="../0-Theme/Theme.js?v=1.5" defer></script>
<script src="../0.1-Notification/Notification.js?v=1.5" defer></script>

<!-- 3. Local Verification Logic Engine -->
<script src="Verification.js?v=1.5" defer></script>

<!-- 4. Spatial Page Activation -->
<script>
    /**
     * Window Loader:
     * Sabhi modules ke load hone ke baad hi system ko visual reveal karta hai.
     * Rule: 0.6s smooth arrival transition.
     */
    window.addEventListener('load', () => {
        setTimeout(() => {
            document.body.classList.add('loaded');
        }, 100);
    });
</script>

</body>
</html>
<!-- ===================================================================== -->
<!-- ===>> END OF BLOCK HTML 4 file : 2-verification/Verification.html <<=== -->
<!-- ===================================================================== -->
